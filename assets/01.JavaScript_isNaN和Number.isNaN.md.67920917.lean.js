import{_ as a,o as n,c as l,a as o}from"./app.e51826c1.js";const F=JSON.parse('{"title":"深入剖析 JavaScript 中的 Number.isNaN 和 isNaN：区别与应用场景","description":"","frontmatter":{},"headers":[],"relativePath":"01.JavaScript/isNaN和Number.isNaN.md","lastUpdated":1763557946000}'),e={name:"01.JavaScript/isNaN和Number.isNaN.md"};function p(c,s,r,t,i,d){return n(),l("div",{"data-pagefind-body":!0},[...s[0]||(s[0]=[o(`<h1 id="深入剖析-javascript-中的-number-isnan-和-isnan-区别与应用场景" tabindex="-1">深入剖析 JavaScript 中的 <code>Number.isNaN</code> 和 <code>isNaN</code>：区别与应用场景 <a class="header-anchor" href="#深入剖析-javascript-中的-number-isnan-和-isnan-区别与应用场景" aria-hidden="true">#</a></h1><p>在 JavaScript 中，处理数字时经常会遇到需要判断某个值是否为 <code>NaN</code>（Not-a-Number）的情况。为此，JavaScript 提供了两个工具：全局函数 <code>isNaN</code> 和 <code>Number.isNaN</code> 方法。尽管它们看起来功能相似，但实际上在实现和行为上有着显著的区别。本文将深入探讨这两者的差异，分析它们的底层逻辑，并提供实际使用建议。</p><h4 id="什么是-nan" tabindex="-1">什么是 <code>NaN</code>？ <a class="header-anchor" href="#什么是-nan" aria-hidden="true">#</a></h4><p>在开始之前，先简单了解一下 <code>NaN</code>。<code>NaN</code> 是 JavaScript 中的一个特殊值，表示“非数字”。它通常出现在无效的数学运算中，比如 <code>0 / 0</code> 或试图将非数字字符串转换为数字（如 <code>parseInt(&quot;abc&quot;)</code>）。有趣的是，<code>NaN</code> 不等于自身（<code>NaN === NaN</code> 返回 <code>false</code>），这使得判断一个值是否为 <code>NaN</code> 需要特别的方法。</p><h4 id="isnan-全局函数的宽松判断" tabindex="-1"><code>isNaN</code>：全局函数的宽松判断 <a class="header-anchor" href="#isnan-全局函数的宽松判断" aria-hidden="true">#</a></h4><p><code>isNaN</code> 是 JavaScript 从早期就存在的一个全局函数。它的作用是判断一个值是否“不可转换为数字”。但它的行为却比表面看起来要复杂得多。</p><ul><li><strong>工作原理</strong>：<code>isNaN</code> 会先尝试将传入的值强制转换为数字（通过隐式类型转换，类似于 <code>Number()</code>），然后判断结果是否为 <code>NaN</code>。</li><li><strong>代码示例</strong>：<div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">NaN</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">123</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false，因为 &quot;123&quot; 可转为 123</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true，因为 &quot;abc&quot; 转为 NaN</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">undefined</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true，因为 undefined 转为 NaN</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true，因为对象转为 NaN</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><strong>关键特点</strong>：<code>isNaN</code> 的宽松性在于它会对参数进行类型转换。这种特性虽然有时方便，但也带来了潜在的问题——它可能会误判一些非 <code>NaN</code> 的值。例如，<code>isNaN(&quot;abc&quot;)</code> 返回 <code>true</code>，但 <code>&quot;abc&quot;</code> 本身并不是 <code>NaN</code>，只是无法转换为有效数字。</li></ul><h4 id="number-isnan-严格的原值检查" tabindex="-1"><code>Number.isNaN</code>：严格的原值检查 <a class="header-anchor" href="#number-isnan-严格的原值检查" aria-hidden="true">#</a></h4><p><code>Number.isNaN</code> 是 ECMAScript 2015（ES6）引入的一个更现代的方法，挂在 <code>Number</code> 对象下。它的行为更加精确和可预测。</p><ul><li><strong>工作原理</strong>：<code>Number.isNaN</code> 不会对传入的值进行类型转换，而是直接检查它是否严格等于 <code>NaN</code>。换句话说，只有当值本身就是 <code>NaN</code> 时，它才会返回 <code>true</code>。</li><li><strong>代码示例</strong>：<div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">NaN</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">123</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false，因为 &quot;123&quot; 不是 NaN</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false，因为 &quot;abc&quot; 不是 NaN</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">undefined</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false，因为 undefined 不是 NaN</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">)) </span><span style="color:#676E95;font-style:italic;">// false，因为对象不是 NaN</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><strong>关键特点</strong>：<code>Number.isNaN</code> 的严格性避免了类型转换带来的副作用。只有当值已经是 <code>NaN</code> 时（比如通过数学运算或 <code>Number()</code> 转换生成的 <code>NaN</code>），它才会返回 <code>true</code>。</li></ul><h4 id="核心区别" tabindex="-1">核心区别 <a class="header-anchor" href="#核心区别" aria-hidden="true">#</a></h4><p>通过上面的例子，我们可以总结出 <code>isNaN</code> 和 <code>Number.isNaN</code> 的主要区别：</p><ol><li><p><strong>类型转换</strong>：</p><ul><li><code>isNaN</code>：会对参数进行隐式类型转换，判断转换后的结果是否为 <code>NaN</code>。</li><li><code>Number.isNaN</code>：不进行类型转换，直接检查值是否为 <code>NaN</code>。</li></ul></li><li><p><strong>返回值范围</strong>：</p><ul><li><code>isNaN</code>：对任何“不可转换为数字”的值返回 <code>true</code>，包括 <code>undefined</code>、<code>{}</code> 等。</li><li><code>Number.isNaN</code>：只对严格等于 <code>NaN</code> 的值返回 <code>true</code>。</li></ul></li><li><p><strong>历史背景</strong>：</p><ul><li><code>isNaN</code> 是 JavaScript 早期的全局函数，存在历史包袱。</li><li><code>Number.isNaN</code> 是 ES6 新增的，设计上更符合现代编程需求。</li></ul></li></ol><h4 id="实际应用场景" tabindex="-1">实际应用场景 <a class="header-anchor" href="#实际应用场景" aria-hidden="true">#</a></h4><ul><li><p><strong>使用 <code>isNaN</code></strong>： 如果你需要判断一个值是否“不可用作数字”（比如用户输入的字符串），<code>isNaN</code> 可能是更方便的选择。例如：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> userInput </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(userInput)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请输入有效数字！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>但需要注意，它可能会把一些非 <code>NaN</code> 的值也归为“不可用”。</p></li><li><p><strong>使用 <code>Number.isNaN</code></strong>： 如果你只关心值本身是否严格为 <code>NaN</code>（比如检查数学运算的结果），<code>Number.isNaN</code> 是更好的选择。例如：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (Number</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isNaN</span><span style="color:#BABED8;">(result)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">运算结果无效！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h4 id="性能与实现细节" tabindex="-1">性能与实现细节 <a class="header-anchor" href="#性能与实现细节" aria-hidden="true">#</a></h4><p>从性能上看，两者的差异不大，但在特定场景下，<code>Number.isNaN</code> 可能略快，因为它跳过了类型转换的步骤。从实现上看，<code>isNaN</code> 的行为类似于：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isNaNPolyfill</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// NaN 是唯一不等于自身的</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而 <code>Number.isNaN</code> 更像：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">numberIsNaNPolyfill</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h4><ul><li><strong><code>isNaN</code></strong>：宽松、历史悠久，适用于需要检查“是否可转为数字”的场景，但容易误判。</li><li><strong><code>Number.isNaN</code></strong>：严格、现代，适用于精确判断值是否为 <code>NaN</code> 的场景，推荐在现代代码中使用。</li></ul><p>在实际开发中，如果你追求代码的清晰性和可预测性，优先选择 <code>Number.isNaN</code>。但如果你需要兼容旧代码或处理更广泛的输入场景，<code>isNaN</code> 仍然有它的用武之地。理解两者的区别，能让你在不同情况下做出最佳选择！</p><hr><p>这篇博客详细剖析了两者的区别，并结合代码示例和应用场景进行了说明，希望对你有所帮助！如果需要调整或补充内容，请随时告诉我。</p>`,25)])])}const D=a(e,[["render",p]]);export{F as __pageData,D as default};
